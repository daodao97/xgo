import{D as j}from"./jsonpath-BMuFVToV.js";import{b as f}from"./handlebars-BQGK04cK.js";import{d as k}from"./dayjs-B3Bs8POl.js";import{l as p}from"./lodash-BdQm9T6w.js";const I=720*60*60*1e3,K={set(t,n,e){localStorage.removeItem(t);const r=new Date().getTime(),o=e?e*1e3:I,s={value:n,createAt:r,expireAt:r+o};return localStorage.setItem(t,JSON.stringify(s)),this},exist(t){return localStorage.getItem(t)!==null},isExpire(t){const n=localStorage.getItem(t);if(!n)return!1;const e=new Date().getTime(),r=JSON.parse(n);return e>r.expireAt},get(t){if(this.isExpire(t))return this.remove(t),null;const n=localStorage.getItem(t);return JSON.parse(n||"{}").value},remove(t){return localStorage.removeItem(t)}},x=(...t)=>[].concat(...t).reduce((n,e)=>n+e,0),A={handle:{sum:t=>x(t),avg:t=>(x(t)/t.length).toFixed(2),min:t=>Math.min(...t),max:t=>Math.max(...t)},registerHandel(t,n){this.handle[t]=n},execute:(t,n)=>{let e=t;for(const r in n)e=A.handle[n[r]](e);return e}};function Q(t,n){console.groupCollapsed(`%c${t}`,"color: green;"),Object.keys(n).forEach(e=>{}),console.groupEnd()}function C(t,n,e){const r=t.replace(/^\.+/,""),o=r?r.startsWith("$")?r:`$.${r}`:"$";let s;try{s=j.value(n,o)}catch{s=void 0}return s??e}function d(t){const n=typeof t,e={"[object Array]":"array","[object Object]":"object","[object Number]":"number - object","[object Boolean]":"boolean - object","[object String]":"string-object"};if(t===null)return"null";if(n==="object"){const r=Object.prototype.toString.call(t);return e[r]}else return n}function y(t){return d(t)==="array"}function v(t){return d(t)==="object"}function X(t){return d(t)==="function"}function T(t){return d(t)==="boolean"}function D(t){return d(t)==="number"}function S(t){return d(t)==="string"}function Y(t){return t&&Object.prototype.toString.call(t)==="[object AsyncFunction]"}function Z(t){return T(t)?t:D(t)?t>0:S(t)?t==="true":!!t}f.registerHelper("ifEq",function(t,n,e){return t==n?e.fn(this):e.inverse(this)});f.registerHelper("ifNeq",function(t,n,e){return t!=n?e.fn(this):e.inverse(this)});f.registerHelper("ifGt",function(t,n,e){return t>n?e.fn(this):e.inverse(this)});f.registerHelper("ifGte",function(t,n,e){return t>=n?e.fn(this):e.inverse(this)});f.registerHelper("ifLt",function(t,n,e){return t<n?e.fn(this):e.inverse(this)});f.registerHelper("ifLte",function(t,n,e){return t<=n?e.fn(this):e.inverse(this)});f.registerHelper("match",function(t,n){return t[n]??t._default});function _(t,n){return f.compile(t)(n)}function H(t){return!!t.match(/{{([\s\S]*?)}}/g)}const N=([t,...n])=>t.toUpperCase()+n.join("");function tt(t){return!!t.match(/{([\s\S]*?)}/g)}function et(t){const n=[],e=t.match(/{([\s\S]*?)}/g);return e&&e.forEach(r=>{let o;o=r.replace("{",""),o=o.replace("}",""),n.push(o)}),n}function nt(t,n){if(H(t))return _(t,n);const e=t.match(/{([\s\S]*?)}/g);return e&&e.forEach(r=>{let o;o=r.replace("{",""),o=o.replace("}","");let s=C(o,n);(y(s)||v(s))&&(s=encodeURIComponent(JSON.stringify(s))),s===void 0&&(s=""),t=t.replace(r,s)}),t}function rt(t,n){return t.split(n).map(e=>N(e.split(""))).join("")}const R=t=>/^-?\d+d|-?\d+h|-?\d+m|-?\d+s$/.test(t),M=(t,n)=>{let e=(new Date||n).getTime();const r=/(-?\d+)d|(-?\d+)h|(-?\d+)m|(-?\d+)s/gm,o=t.match(r)||[];for(let s=0;s<o.length;s++){const i=o[s].match(/(-?\d+)(\w)/);if(i)switch(i[2]){case"d":e+=parseInt(i[1])*(86400*1e3);break;case"h":e+=parseInt(i[1])*(3600*1e3);break;case"m":e+=parseInt(i[1])*(60*1e3);break;case"s":e+=parseInt(i[1])*1e3;break}}return new Date(e)},ot=t=>{const n=new Date;switch(t){case"yesterday":return n.setDate(new Date().getDate()-1),n;case"tomorrow":return n.setDate(new Date().getDate()+1),n;case"today":return n}return R(t)?M(t):k(t).toDate()},st=(t,n,e)=>new Function(`return (a, b) => a ${e} b`)()(t,n);function w(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $(t,n){if(!n)return t;const e=[];Object.keys(n).forEach(o=>{const s=n[o];if(s===null||typeof s>"u")return;let i;Array.isArray(s)?(i=s,o+="[]"):i=[s],i.forEach(c=>{p.isDate(c)?c=c.toISOString():p.isObject(c)&&(c=JSON.stringify(c)),e.push(`${w(o)}=${w(c)}`)})});const r=e.join("&");if(r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}function it(t){const n=(t.indexOf("?")!==-1?t.slice(t.indexOf("?")+1):t.indexOf("/")!==-1?"":t).split("&"),e={};return n.forEach(function(r){let[o,s]=r.split("=");if(!o)return;let i=!1;o.includes("[]")&&(o=o.replace("[]",""),i=!0),s=decodeURIComponent(s||""),i?(e[o]=e[o]||[],e[o].push(s)):e[o]=s}),JSON.parse(JSON.stringify(e))}function at(t){const n=$("",t);let e=location.hash;const r=e.indexOf("?");r!==-1&&(e=e.substring(0,r));const o=location.pathname+e+n;history.pushState({url:o,title:document.title},document.title,o)}function ct(t){return/^(https?:|mailto:|tel:)/.test(t)}function ut(t,n,e){if(!n)return!0;let r=!0,o=n;y(n[0])||(o=[n]);for(let s=0;s<o.length;s++){const i=o[s],c=i[0],a=p.get(t,c);if(i[1]==="="&&(r=a==i[2]),i[1]===">"&&(r=a>i[2]),i[1]==="<"&&(r=a<i[2]),i[1]===">="&&(r=a>=i[2]),i[1]==="<="&&(r=a<=i[2]),i[1]==="!="&&(r=a!=i[2]),i[1]==="in"&&(r=i[2].indexOf(a)!==-1),i[1]==="not_in"&&(r=i[2].indexOf(a)===-1),!r)return!1}return r}function lt(t,n=100,e="center",r="smooth",o=!1){setTimeout(()=>{const s=document.getElementsByClassName(t);if(s.length===0)return;const i=o&&o==="last"?s.length-1:0,c={block:e||"center",behavior:r||"smooth"},a=s[i];var u=a.getBoundingClientRect(),l=u.top>=0&&u.bottom<=window.innerHeight;l||a.scrollIntoView(c)},n)}function ft(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const n=Math.random()*16|0;return(t==="x"?n:n&3|8).toString(16)})}function B(t,n,e="id"){let r=[];return t.forEach(o=>{if(o[e]===n){r.push(n);return}if(o.children){const s=B(o.children,n,e);s.length>0&&(r=[o[e]].concat(s))}}),r}function dt(t){return Array.isArray(t)?t:t==null||t===""?[]:[t]}function mt(t,n){let e=document.getElementById(t);e===null&&(e=document.createElement("link"),e.type="text/css",e.rel="stylesheet",e.href=n,e.id=t,document.getElementsByTagName("head")[0].appendChild(e))}function ht(t){const n=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");n.appendChild(e),e.appendChild(document.createTextNode(t))}function pt(t,n){let e;return(...r)=>{clearTimeout(e),e=setTimeout(()=>{t(...r)},n)}}const J=t=>{const n=Array.isArray(t)?t.filter(e=>e):t;return Object.keys(n).reduce((e,r)=>{const o=n[r];return o&&(e[r]=typeof o=="object"?J(o):o),e},Array.isArray(t)?[]:{})},gt=(t,n)=>{fetch(t,{method:"get",mode:"cors"}).then(e=>e.blob()).then(e=>{const r=window.URL.createObjectURL(new Blob([e])),o=document.createElement("a");o.href=r,o.setAttribute("download",n),document.body.appendChild(o),o.click(),o.remove()})};function yt(t,n){const e=[];return Object.keys(t).forEach(r=>{t[r]!==n[r]&&e.push(r)}),e}const bt=function(t,n){if(!t)return{};if(t==="*")return n;if(S(t))return{[t]:n[t]};if(y(t)){const e={};return t.forEach(r=>{e[r]=n[r]}),e}if(v(t)){const e={};return Object.keys(t).forEach(r=>{e[r]=n[t[r]]}),e}return{}};function xt(t){navigator.clipboard.writeText(t).then(n=>{Message({message:"已复制到剪贴板",type:"success",duration:1e3})}).catch(n=>{Message({message:"复制到剪贴板失败"+n,type:"error",duration:1e3})})}const L=t=>typeof t=="symbol";let E;const b=()=>E||(E=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(L));function U(t){return t?t.__v_isRef===!0:!1}function F(t){return U(t)?t.value:t}b().requestIdleCallback;b().cancelIdleCallback;{const t=b(),n=(e,r)=>{let o;return(o=t[e])||(o=t[e]=[]),o.push(r),s=>{o.length>1?o.forEach(i=>i(s)):o[0](s)}};n("__VUE_INSTANCE_SETTERS__",e=>e),n("__VUE_SSR_SETTERS__",e=>e)}function wt({elRef:t,waterMark:n="水印",color:e="#e9e9e9",angle:r=-15,size:o="24",alpha:s=.5,width:i=600,height:c=300}){if(!t)return;const a=F(t);let u=document.createElement("canvas");a.appendChild(u),u.width=i,u.height=c,u.style.display="none",u.style.zIndex="9";let l=u.getContext("2d");l.rotate(r*Math.PI/180),l.font="500 30px Microsoft JhengHei",l.fillStyle=e,l.textAlign="center",l.textBaseline="middle",l.globalAlpha=s,l.font="1000 "+o+"px  Microsoft JhengHei";for(let m=document.body.offsetHeight*.5*-1;m<800;m+=160)for(let h=0;h<document.body.offsetHeight*1.5;h+=60)l.fillText(n,m,h);a.style.backgroundImage="url("+u.toDataURL("image/png")+")"}const g="oms-theme-change";function q(t){return t==="dark"?"dark":"light"}function O(){if(typeof document>"u")return"light";const t=document.documentElement.getAttribute("data-theme");return t==="dark"||t==="light"?t:document.documentElement.classList.contains("dark")?"dark":"light"}function Et(t){if(typeof document>"u")return;const n=document.documentElement;n.classList.toggle("dark",t==="dark"),n.setAttribute("data-theme",t),n.style.setProperty("color-scheme",t)}function vt(t){typeof window>"u"||typeof CustomEvent>"u"||window.dispatchEvent(new CustomEvent(g,{detail:t}))}function z(t){if(typeof window>"u")return()=>{};const n=e=>{const r=e.detail;t(r??O())};return window.addEventListener(g,n),()=>window.removeEventListener(g,n)}function St(t){if(typeof window>"u")return()=>{};const n=()=>{t.value=O()},e=z(o=>{t.value=q(o)});let r=null;return typeof MutationObserver<"u"&&typeof document<"u"&&(r=new MutationObserver(()=>{n()}),r.observe(document.documentElement,{attributes:!0,attributeFilter:["class","data-theme"]})),n(),()=>{e(),r?.disconnect()}}export{q as $,vt as A,K as B,yt as C,wt as D,mt as E,A as F,et as G,T as H,d as I,Q as J,Y as K,N as L,gt as O,D as P,y as Q,Et as R,bt as T,xt as V,tt as W,rt as X,Z as Y,it as a,ht as b,S as c,ct as d,nt as e,X as f,ft as g,lt as h,C as i,R as j,M as k,St as l,ut as m,st as o,J as q,ot as r,v as s,at as u,pt as x,dt as y,B as z};
